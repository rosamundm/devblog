---
title: 'Django ORM basics'
excerpt: 'How to make a few different important database queries with the Django ORM.'
date: '2020-11-16T00:00:00.322Z'
---

<p data-block-key=\"uz234\">Since starting my current job, I&#x27;ve found I need to brush up a bit on querysets and ORM (object-relational mapping). A queryset is a Python object that lets you view (Django) model instances through various filters or conditions. I thought it was enough to see the number of instances, get one, or get them in a certain order. But there&#x27;s so much more to it than that.</p><h3 data-block-key=\"1woyp\">Django ORM is so useful primarily for two reasons:</h3><ol><li data-block-key=\"lj7km\">It prevents you from having to make raw SQL queries on your database, i.e. not touching the database, just having a look at what&#x27;s in there.</li><li data-block-key=\"k4z0n\">In very large applications, filtering and using <a href=\"https://docs.djangoproject.com/en/3.1/topics/db/managers/\">managers</a> prevents you from having to query the <i>whole</i> database, or <i>all</i> the instances of a model — two ways you can significantly <i>reduce</i> performance.</li></ol><p data-block-key=\"c6lqx\"></p><p data-block-key=\"1code\">It can be a little finicky to implement from memory. But then again, it&#x27;s about understanding concepts, not ultimate knowledge.</p><p data-block-key=\"3vo5b\">Here are a few queryset examples, using the <code>BlogPage</code> class from this very blog. It&#x27;s just a fraction of what&#x27;s out there, but you can find out more in the <a href=\"https://docs.djangoproject.com/en/3.1/ref/models/querysets/\">official docs</a>.</p><ul><li data-block-key=\"x1707\"><b><code>BlogPage.objects.all()</code></b><br/>Return all instances of <code>BlogPage</code>.<br/><br/></li><li data-block-key=\"gl6c9\"><b><code>BlogPage.objects.filter(body__icontains=&#x27;python&#x27;)</code></b><br/>Return all <code>BlogPage</code> instances where <code>body</code> (i.e. the post itself) contains the string &quot;python&quot;. Enter the desired attribute in the brackets, double underscore, <code>icontains</code>, then the string).<br/><br/></li><li data-block-key=\"n95ep\"><b><code>BlogPage.objects.filter(body__icontains=&#x27;python&#x27;).exists()</code></b><br/>Returns a Boolean value of whether at least one object meeting this criteria exists.<br/><br/></li><li data-block-key=\"u8ult\"><b><code>BlogPage.objects.filter(body__icontains=&#x27;python&#x27;).values()</code></b><code><br/></code>Returns each instance meeting the criteria in the form of a dictionary — in the case of <code>BlogPage</code>, keys include <code>translation_key</code>, <code>latest_revision_created_at</code>, and <code>content_type_id</code>.<br/><br/></li><li data-block-key=\"kb64y\"><b><code>BlogPage.objects.filter(body__icontains=&#x27;python&#x27;).count()<br/></code></b>Returns the number of objects meeting this criteria.<br/><br/></li><li data-block-key=\"ude0g\"><b><code>BlogPage.objects.filter(body__icontains=&#x27;python&#x27;).exclude(date__lt=datetime.date(2020, 01, 01))<br/></code></b>Returns criteria excluding any post published before 2020.</li></ul><p data-block-key=\"emzru\"></p>